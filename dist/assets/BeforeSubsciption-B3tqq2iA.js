import{h as R,i as T,k as L,a as M,r as c,l as E,j as e,V as o,R as U,m as D,u as B,n as H,O as _}from"./index-Byw0tQSr.js";import{v as P}from"./vector2-DwJ4A3cT.js";import{H as z,B as G,M as Y,a as $,F as V}from"./Footer-B_1Ey9-u.js";import"./index-Cq8BdTLL.js";const I="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='272'%20height='27'%20viewBox='0%200%20272%2027'%20fill='none'%3e%3cpath%20d='M0%2026H245.681L269%203'%20stroke='%238EF0F4'%20stroke-width='0.833333'%3e%3c/path%3e%3ccircle%20cx='2'%20cy='2'%20r='2'%20transform='matrix(1%200%200%20-1%20268%204)'%20fill='%238EF0F4'%3e%3c/circle%3e%3c/svg%3e";function Q(){const{data:b=[],isLoading:S,isError:j}=R(),[i]=T(),[f]=L(),{user:x}=M(),[d,a]=c.useState(null),{data:n,refetch:w,isFetching:u}=E(x?.userId,{skip:!x?.userId,refetchOnMountOrArgChange:!0}),[t,v]=c.useState(n||null);c.useEffect(()=>{v(n||null)},[n]);const k=async s=>{if(!x?.userId){o.error("Please log in to subscribe.");return}if(!s.stripePriceId){o.error("Plan is missing Stripe Price ID.");return}const h=t?.status==="active",F=t?.plan?.id===s.id;if(h&&F){o("You already have an active subscription. Please cancel it before subscribing to a new plan.");return}try{a(s.id);const{url:r}=await i({stripePriceId:s.stripePriceId,userId:x.userId}).unwrap();if(!r)throw new Error("Stripe checkout URL missing.");window.location.href=r}catch(r){console.error("Checkout error:",r);const g=r?.data?.message||r?.response?.data?.message||r?.message||"Something went wrong during checkout.";o.error(g)}finally{a(null)}},l=async()=>{if(!(!t?.id||!t.plan?.id))try{a(t.plan.id),await f({userId:x?.userId}).unwrap(),o.success("Subscription cancelled successfully"),v(null),w()}catch(s){console.error("Cancel subscription error:",s),o.error(s?.message||"Failed to cancel subscription")}finally{a(null)}};return S?e.jsx("p",{className:"text-center text-white",children:"Loading plans..."}):j?e.jsx("p",{className:"text-center text-red-500",children:"Failed to load plans. Please try again later."}):e.jsx("div",{children:e.jsxs("div",{className:"max-w-8xl mx-auto py-20 px-6 sm:px-14",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h1",{className:"text-xl md:text-5xl font-bold text-white mb-4",children:"Choose Your Plan"}),e.jsx("p",{className:"text-lg md:text-xl text-white max-w-2xl mx-auto",children:"Select the perfect subscription plan for your needs. Upgrade or downgrade at any time."})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 gap-y-10 justify-center",children:b.map(s=>{const h=t?.status==="active",F=t?.plan?.id===s.id,r=h&&F,g=d===s.id||d===t?.plan?.id||u,A=(s.price/s.duration).toFixed(2);return e.jsxs("div",{className:`bg-[#154E62]/60 backdrop-blur-md border border-cyan-500/30 shadow-2xl text-white md:min-h-[35rem] flex flex-col justify-between rounded-bl-[68px] 
             rounded-tr-none rounded-tl-none rounded-br-none relative mb-6`,children:[e.jsxs("div",{className:"p-8 flex flex-col flex-grow gap-3",children:[e.jsx("h3",{className:"text-2xl md:text-5xl font-normal text-[#8DEFF4] pt-2 md:pb-6",style:{fontFamily:"'Unbounded', Arial, sans-serif"},children:s.name}),e.jsx("div",{className:"flex flex-col gap-4 md:flex-grow",children:Array.isArray(s.description)?s.description.map((m,N)=>{const p=m.split(" "),y=Math.ceil(p.length/2),C=p.slice(0,y).join(" "),O=p.slice(y).join(" ");return e.jsxs("div",{className:"flex flex-col pt-6",children:[e.jsx("div",{className:"flex flex-col text-[16px] text-normal",children:p.length>3?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-slate-200",children:C}),e.jsx("p",{className:"text-slate-200 pb-2",children:O})]}):e.jsx("p",{className:"text-[16px] text-slate-200 pb-2",children:m})}),e.jsx("div",{className:"mt-[-24px]",children:e.jsx("img",{src:I,alt:"divider",className:"block w-full m-0 p-0 leading-none"})})]},N)}):s.description&&(()=>{const m=s.description.split(" "),N=Math.ceil(m.length/2),p=m.slice(0,N).join(" "),y=m.slice(N).join(" ");return e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"flex flex-col",children:m.length>3?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-sm text-slate-200",style:{fontFamily:"'PT Sans', Arial, sans-serif"},children:p}),e.jsx("p",{className:"text-sm text-slate-200",style:{fontFamily:"'PT Sans', Arial, sans-serif"},children:y})]}):e.jsx("p",{className:"text-sm text-slate-200",style:{fontFamily:"'PT Sans', Arial, sans-serif"},children:s.description})}),e.jsx("img",{src:I,alt:"divider",className:"w-full h-0 m-0 p-0"})]})})()}),e.jsx("div",{className:"flex flex-col mt-5 md:mt-0",style:{fontFamily:"'PT Sans', Arial, sans-serif"},children:e.jsxs("div",{className:"flex flex-wrap items-baseline gap-x-4",children:[s.oldPrice&&e.jsxs("span",{className:"text-xl sm:text-2xl font-normal text-white line-through opacity-70 mr-2",children:["€",s.oldPrice]}),e.jsxs("span",{className:"text-3xl sm:text-4xl font-semibold text-[#8DEFF4]",children:["€",s.price]}),e.jsxs("span",{className:"text-sm sm:text-base font-normal text-[#8DEFF4] opacity-80",children:["/ €",A," / MONTH"]})]})})]}),e.jsx("div",{className:`w-full mt-[20px] mb-[-2px] ${g?"cursor-not-allowed opacity-50":"cursor-pointer group"}`,onClick:()=>{r?l():g||k(s)},children:e.jsx("div",{className:"w-[103%] h-[80px] md:h-[120px] bg-no-repeat bg-center flex items-center justify-center relative left-1/2 -translate-x-1/2",style:{backgroundImage:`url(${P})`,backgroundSize:"100% 100%"},children:e.jsx("span",{className:"text-white font-normal text-xl px-4 py-2 transition-all duration-500 ease-out rounded-md bg-transparent",style:{fontFamily:"'Unbounded', Arial, sans-serif"},children:r?"CANCEL SUBSCRIPTION":g?"PROCESSING...":"JOIN NOW"})})})]},s.id)})})]})})}const J=()=>{D(l=>l.user.user),B();const b=c.useRef(null),[S,j]=c.useState(!1),[i,f]=c.useState(!1),x=localStorage.getItem("user"),d=JSON.parse(x??"{}"),{data:a,isLoading:n,isError:w}=H(d?.email??"",{skip:!i||!d?.email}),{data:u}=E(d?.userId,{skip:!d?.userId}),t=c.useMemo(()=>{if(!u)return!1;const l=u.status==="active",s=new Date(u.expiresAt)>new Date;return l&&s},[u]),v=()=>{if(!d?.email){o.error("Email not found. Please log in again.");return}f(!0)};return c.useEffect(()=>{i&&!n&&!a&&!w&&(o.error("Please give test and then see your results."),f(!1))},[i,n,a,w]),c.useEffect(()=>{i&&a&&!n&&o.success("Test results loaded successfully!")},[i,a,n]),e.jsxs("div",{className:"min-h-screen w-full text-white relative overflow-auto before:absolute before:inset-0 before:bg-[#2A4C57]/40 before:z-0",style:{backgroundImage:"url(https://static.tildacdn.net/tild6534-6232-4333-a431-313138303165/bg_1_1.jpg)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed",fontFamily:"'Unbounded', Arial, sans-serif"},children:[e.jsx(_,{position:"top-right"}),e.jsx(z,{onMenuClick:()=>j(!0)}),e.jsx("div",{className:"absolute top-14 pt-14 left-1/2 -translate-x-1/2 sm:left-6 sm:translate-x-0 z-60 pl-0 sm:pl-8",children:e.jsx("p",{className:"text-[14px] sm:text-lg font-light tracking-wide font-ptSans text-center sm:text-left",children:"WELCOME TO YOUR BOOSTLAB"})}),e.jsxs("div",{className:"relative flex flex-col items-center text-center px-4 pb-10 pt-26 sm:pt-22",children:[e.jsx("h1",{className:"text-[2.5rem] sm:text-[4rem] md:text-[6rem] lg:text-[7rem] mb-10 leading-none tracking-tight font-normal pt-14 text-center md:text-left",children:"PERSONAL ACCOUNT"}),e.jsx("div",{className:"w-[95%] sm:w-[400px] h-[540px] sm:h-[700px] shadow-xl overflow-hidden border border-cyan-200",children:e.jsx("iframe",{src:"https://kinescope.io/embed/3kNR85cmGAPZe13Py7UgF8",className:"w-full h-full border-none",allow:"autoplay; fullscreen",allowFullScreen:!0,title:"Kinescope Video"})})]}),e.jsxs("div",{className:"w-full flex flex-col items-center py-10 px-4 z-10",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center w-full max-w-[91rem] px-6 md:px-20 py-10 bg-[#537F89]/30 backdrop-blur-md rounded-md mb-6 text-white",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl md:text-4xl text-[#87F1FF] uppercase tracking-wide font-normal",children:"Stage 1: Test"}),e.jsx("p",{className:"mt-2 text-white text-sm md:text-base font-normal",children:"Discover your creative DNA and unlock your unique path"})]}),e.jsxs("div",{className:"flex items-center mt-6 md:mt-0 text-[#d2d2d2] text-sm cursor-pointer",onClick:v,children:[e.jsx("img",{src:"https://static.tildacdn.net/tild6231-3763-4066-a262-313738353561/result_icon.svg",alt:"Result Icon",className:"w-18 h-18 mr-4"}),e.jsx("span",{className:"text-xl font-light px-2 text-[#87F1FF] hover:underline",children:"SEE RESULT"})]})]}),S&&e.jsx(Y,{onClose:()=>j(!1)}),i&&e.jsx($,{isModalOpen:i,setIsModalOpen:f,testResult:a,isLoading:n}),G.map(({stage:l,title:s,description:h})=>e.jsx("div",{className:"flex justify-between items-center w-full max-w-[91rem] px-4 sm:px-10 md:px-20 py-10 bg-[#537F89]/30 backdrop-blur-md rounded-md mb-6 text-white",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between justify-start w-full gap-4",children:[e.jsxs("div",{className:"w-[82%] md:w-auto",children:[e.jsxs("h2",{className:`text-xl md:text-4xl text-[#87F1FF] uppercase tracking-wide font-normal ${l==="LET BOOSTI BUILD YOUR PERSONALIZED STRATEGY"?"py-5":""}`,children:[l,s?`: ${s}`:""]}),e.jsx("p",{className:"mt-2 text-white text-sm md:text-base font-normal",children:h})]}),e.jsxs("div",{className:"flex items-center justify-start w-full md:w-auto cursor-pointer group relative",onClick:()=>b.current?.scrollIntoView({behavior:"smooth"}),children:[!t&&e.jsx("img",{src:"https://static.tildacdn.net/tild6466-3537-4561-a136-313962393561/lock_icon.svg",alt:"Lock Icon",className:"w-18 h-18 mr-4"}),e.jsx("span",{className:`underline underline-offset-[4px] text-xl font-light px-2 ${t?"text-gray-300":"text-gray-400"}`,children:t?"Available":"Not Available"}),!t&&e.jsx("span",{className:"absolute bottom-full mb-3 left-1/2 -translate-x-1/2 px-3 py-1.5 text-sm text-white rounded-lg bg-white/20 backdrop-blur-md shadow-lg opacity-0 group-hover:opacity-100 transition-all duration-300 pointer-events-none z-50",children:"Unlock"})]})]})},l))]}),e.jsx("div",{className:"w-[70%] px-6 py-10 max-w-screen-xl mx-auto flex flex-col md:flex-row items-center justify-between gap-6",children:["SERVICES","LIBRARY"].map((l,s)=>e.jsx("div",{className:"w-full flex justify-center md:justify-between",children:e.jsxs("div",{className:"relative w-full transition-all duration-300 rounded-xl group",children:[e.jsx("img",{src:P,alt:l,className:"w-full h-auto rounded-xl"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("span",{className:"text-white text-base md:text-lg font-semibold transition-all duration-500 ease-out group-hover:shadow-[0_0_2500px_100px_#8EF0F4]",children:l})})]})},s))}),e.jsx("div",{ref:b,children:e.jsx(Q,{})}),e.jsx(V,{})]})},X=U.memo(J);export{X as default};
