import{h as R,i as M,k as L,a as U,r as c,l as I,j as e,V as o,R as T,m as D,u as B,n as z,O as H}from"./index-l2lJbs6z.js";import{v as C}from"./vector2-DwJ4A3cT.js";import{H as V,B as G,M as Y,a as _,F as $}from"./Footer-B0XRaKET.js";import"./index-C_H40Op9.js";const F="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='272'%20height='27'%20viewBox='0%200%20272%2027'%20fill='none'%3e%3cpath%20d='M0%2026H245.681L269%203'%20stroke='%238EF0F4'%20stroke-width='0.833333'%3e%3c/path%3e%3ccircle%20cx='2'%20cy='2'%20r='2'%20transform='matrix(1%200%200%20-1%20268%204)'%20fill='%238EF0F4'%3e%3c/circle%3e%3c/svg%3e";function Q(){const{data:p=[],isLoading:N,isError:b}=R(),[i]=M(),[f]=L(),{user:x}=U(),[d,r]=c.useState(null),{data:n,refetch:w,isFetching:m}=I(x?.userId,{skip:!x?.userId,refetchOnMountOrArgChange:!0}),[l,j]=c.useState(n||null);c.useEffect(()=>{j(n||null)},[n]);const y=async s=>{if(!x?.userId){o.error("Please log in to subscribe.");return}if(!s.stripePriceId){o.error("Plan is missing Stripe Price ID.");return}const h=l?.status==="active",u=l?.plan?.id===s.id;if(h&&u){o("You already have an active subscription. Please cancel it before subscribing to a new plan.");return}try{r(s.id);const{url:a}=await i({stripePriceId:s.stripePriceId,userId:x.userId}).unwrap();if(!a)throw new Error("Stripe checkout URL missing.");window.location.href=a}catch(a){console.error("Checkout error:",a);const g=a?.data?.message||a?.response?.data?.message||a?.message||"Something went wrong during checkout.";o.error(g)}finally{r(null)}},t=async()=>{if(!(!l?.id||!l.plan?.id))try{r(l.plan.id),await f({userId:x?.userId}).unwrap(),o.success("Subscription cancelled successfully"),j(null),w()}catch(s){console.error("Cancel subscription error:",s),o.error(s?.message||"Failed to cancel subscription")}finally{r(null)}};return N?e.jsx("p",{className:"text-center text-white",children:"Loading plans..."}):b?e.jsx("p",{className:"text-center text-red-500",children:"Failed to load plans. Please try again later."}):e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"max-w-8xl mx-auto py-10 sm:py-20 px-4 sm:px-10",children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:p.map(s=>{const h=l?.status==="active",u=l?.plan?.id===s.id,a=h&&u,g=d===s.id||d===l?.plan?.id||m,E=(s.price/s.duration).toFixed(2);return e.jsxs("div",{className:"bg-[#154E62]/60 backdrop-blur-md border border-cyan-500/30 shadow-2xl text-white rounded-bl-[48px] sm:rounded-bl-[68px] md:min-h-[35rem] min-h-[28rem] flex flex-col justify-between relative",children:[e.jsxs("div",{className:"p-5 sm:p-8 flex flex-col flex-grow gap-3",children:[e.jsx("h3",{className:"text-2xl sm:text-4xl lg:text-5xl font-normal text-[#8DEFF4] pt-2 sm:pb-4",style:{fontFamily:"'Unbounded', Arial, sans-serif"},children:s.name}),e.jsx("div",{className:"flex flex-col gap-3 sm:gap-5 flex-grow",children:Array.isArray(s.description)?s.description.map((S,P)=>{const v=S.split(" "),k=Math.ceil(v.length/2),A=v.slice(0,k).join(" "),O=v.slice(k).join(" ");return e.jsxs("div",{className:"flex flex-col pt-3",children:[e.jsx("div",{className:"flex flex-col text-sm sm:text-base",children:v.length>3?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-slate-200",children:A}),e.jsx("p",{className:"text-slate-200 pb-1 sm:pb-2",children:O})]}):e.jsx("p",{className:"text-slate-200 pb-0",children:S})}),e.jsx("img",{src:F,alt:"divider",className:"block w-full"})]},P)}):s.description&&e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{className:"text-sm sm:text-base text-slate-200",children:s.description}),e.jsx("img",{src:F,alt:"divider",className:"w-full mt-2"})]})}),e.jsx("div",{className:"flex flex-col mt-4 sm:mt-1",style:{fontFamily:"'PT Sans', Arial, sans-serif"},children:e.jsxs("div",{className:"flex flex-wrap items-baseline gap-x-2",children:[s.oldPrice&&e.jsxs("span",{className:"text-base sm:text-xl font-normal text-white line-through opacity-70 mr-2",children:["€",s.oldPrice]}),e.jsxs("span",{className:"text-2xl sm:text-4xl font-semibold text-[#8DEFF4]",children:["€",s.price]}),e.jsxs("span",{className:"text-sm sm:text-base font-normal text-[#8DEFF4] opacity-80",children:["/ €",E," / MONTH"]})]})})]}),e.jsx("div",{className:`w-full mt-6 ${g?"cursor-not-allowed opacity-50":"cursor-pointer"}`,onClick:()=>{a?t():g||y(s)},children:e.jsx("div",{className:"w-[102%] h-[80px] sm:h-[100px] md:h-[120px] bg-no-repeat bg-center flex items-center justify-center relative left-1/2 -translate-x-1/2",style:{backgroundImage:`url(${C})`,backgroundSize:"100% 100%"},children:e.jsx("span",{className:"text-base sm:text-lg md:text-xl text-white font-normal px-4 py-2 transition-all duration-500 ease-out rounded-md bg-transparent",style:{fontFamily:"'Unbounded', Arial, sans-serif"},children:a?"CANCEL SUBSCRIPTION":g?"PROCESSING...":"JOIN NOW"})})})]},s.id)})})})})}const J=()=>{D(t=>t.user.user),B();const p=c.useRef(null),[N,b]=c.useState(!1),[i,f]=c.useState(!1),x=localStorage.getItem("user"),d=JSON.parse(x??"{}"),{data:r,isLoading:n,isError:w}=z(d?.email??"",{skip:!i||!d?.email}),{data:m}=I(d?.userId,{skip:!d?.userId}),l=c.useMemo(()=>{if(!m)return!1;const t=m.status==="active",s=new Date(m.expiresAt)>new Date;return t&&s},[m]),j=()=>{if(!d?.email){o.error("Email not found. Please log in again.");return}f(!0)};return c.useEffect(()=>{i&&!n&&!r&&!w&&(o.error("Please give test and then see your results."),f(!1))},[i,n,r,w]),c.useEffect(()=>{i&&r&&!n&&o.success("Test results loaded successfully!")},[i,r,n]),e.jsxs("div",{className:"min-h-screen w-full text-white relative overflow-auto before:absolute before:inset-0 before:bg-[#2A4C57]/40 before:z-0",style:{backgroundImage:"url(https://static.tildacdn.net/tild6534-6232-4333-a431-313138303165/bg_1_1.jpg)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed",fontFamily:"'Unbounded', Arial, sans-serif"},children:[e.jsx(H,{position:"top-right"}),e.jsx(V,{onMenuClick:()=>b(!0)}),e.jsx("div",{className:"absolute top-14 pt-14 left-1/2 -translate-x-1/2 sm:left-6 sm:translate-x-0 z-60 pl-0 sm:pl-8",children:e.jsx("p",{className:"text-[14px] sm:text-lg font-light tracking-wide font-ptSans text-center sm:text-left",children:"WELCOME TO YOUR BOOSTLAB"})}),e.jsxs("div",{className:"relative flex flex-col items-center text-center px-4 pb-10 pt-26 sm:pt-22",children:[e.jsx("h1",{className:"text-[2.5rem] sm:text-[4rem] md:text-[6rem] lg:text-[7rem] mb-10 leading-none tracking-tight font-normal pt-14 text-center md:text-left",children:"PERSONAL ACCOUNT"}),e.jsx("div",{className:"w-[95%] sm:w-[400px] h-[540px] sm:h-[700px] shadow-xl overflow-hidden border border-cyan-200",children:e.jsx("iframe",{src:"https://kinescope.io/embed/3kNR85cmGAPZe13Py7UgF8",className:"w-full h-full border-none",allow:"autoplay; fullscreen",allowFullScreen:!0,title:"Kinescope Video"})})]}),e.jsxs("div",{className:"w-full flex flex-col items-center py-10 px-4 z-10",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center w-full max-w-[91rem] px-6 md:px-20 py-10 bg-[#537F89]/30 backdrop-blur-md rounded-md mb-6 text-white",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl md:text-4xl text-[#87F1FF] uppercase tracking-wide font-normal",children:"Stage 1: Result"}),e.jsx("p",{className:"mt-2 text-white text-sm md:text-base font-normal",children:"Discover your creative DNA and unlock your unique path"})]}),e.jsxs("div",{className:"flex items-center mt-6 md:mt-0 text-[#d2d2d2] text-sm cursor-pointer",onClick:j,children:[e.jsx("img",{src:"https://static.tildacdn.net/tild6231-3763-4066-a262-313738353561/result_icon.svg",alt:"Result Icon",className:"w-14 h-14 mr-4"}),e.jsx("span",{className:"text-xl font-light px-2 text-[#87F1FF] hover:underline",children:"SEE RESULT"})]})]}),N&&e.jsx(Y,{onClose:()=>b(!1)}),i&&e.jsx(_,{isModalOpen:i,setIsModalOpen:f,testResult:r,isLoading:n}),G.map(({stage:t,title:s,description:h,button:u})=>e.jsx("div",{className:"flex justify-between items-center w-full max-w-[91rem] px-4 sm:px-10 md:px-20 py-10 bg-[#537F89]/30 backdrop-blur-md rounded-md mb-6 text-white",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between justify-start w-full gap-2",children:[e.jsxs("div",{className:"w-[100%] md:w-auto",children:[e.jsxs("h2",{className:"text-xl md:text-4xl text-[#87F1FF] uppercase tracking-wide font-normal",children:[t,s?`: ${s}`:""]}),e.jsx("p",{className:"mt-2 text-white text-sm md:text-base font-normal",children:h})]}),e.jsx("div",{className:"flex items-center justify-start w-full md:w-auto cursor-pointer group relative",children:l?e.jsx("span",{className:"underline underline-offset-[4px] text-xl font-light text-gray-300",children:"Available"}):u?e.jsxs("div",{className:"cursor-pointer flex items-center group relative",children:[u,e.jsx("span",{className:"absolute bottom-full mb-3 left-1/2 -translate-x-1/2 px-3 py-1.5 text-sm text-white rounded-lg bg-white/20 backdrop-blur-md shadow-lg opacity-0 group-hover:opacity-100 transition-all duration-300 pointer-events-auto z-50 cursor-pointer",onClick:()=>p.current?.scrollIntoView({behavior:"smooth"}),children:"Unlock"})]}):e.jsxs("div",{className:"flex items-center group relative",children:[e.jsx("img",{src:"https://static.tildacdn.net/tild6466-3537-4561-a136-313962393561/lock_icon.svg",alt:"Lock Icon",className:"md:w-16 w-12 md:h-16 h-12 mr-4"}),e.jsx("span",{className:"underline underline-offset-[4px] text-xl font-light text-gray-400",children:"Not Available"}),e.jsx("span",{className:"absolute bottom-full mb-3 left-1/2 -translate-x-1/2 px-3 py-1.5 text-sm text-white rounded-lg bg-white/20 backdrop-blur-md shadow-lg opacity-0 group-hover:opacity-100 transition-all duration-300 pointer-events-auto z-50 cursor-pointer",onClick:()=>p.current?.scrollIntoView({behavior:"smooth"}),children:"Unlock"})]})})]})},t))]}),e.jsx("div",{className:"w-full lg:w-[70%] px-6 py-10 max-w-screen-xl mx-auto flex flex-col md:flex-row items-center justify-between gap-6",children:["SERVICES","LIBRARY"].map(t=>e.jsx("div",{className:"w-full flex justify-center md:justify-between",children:e.jsxs("div",{className:"relative w-full",children:[e.jsx("img",{src:C,alt:t,className:"w-full h-auto"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("span",{className:"text-white text-base md:text-lg font-semibold",children:t})})]})},t))}),e.jsxs("div",{className:"text-center mt-10 md:mt-20",children:[e.jsx("h1",{className:"text-xl md:text-4xl font-bold text-white mb-4",children:"Choose Your Plan"}),e.jsx("p",{className:"text-sm md:text-xl text-white max-w-2xl mx-auto",children:"Select the perfect subscription plan for your needs. Upgrade or downgrade at any time."})]}),e.jsx("div",{ref:p,children:e.jsx(Q,{})}),e.jsx($,{})]})},X=T.memo(J);export{X as default};
