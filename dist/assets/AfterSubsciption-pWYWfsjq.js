import{u as M,m as T,r as s,n as _,l as P,o as h,V as r,j as e,O as V,L as S}from"./index-vAX-t8xs.js";import{H as U,A as $,M as z,a as D,F as H}from"./Footer-CcQ-G0RP.js";import{v as G}from"./vector2-DwJ4A3cT.js";import"./index-Dipuk1hr.js";const Q="/assets/boostrGirl-th7uROME.png",o=["https://static.tildacdn.net/tild6434-3931-4336-a566-393838356233/check_icon.svg","https://static.tildacdn.net/tild6231-3763-4066-a262-313738353561/result_icon.svg","https://static.tildacdn.net/tild3137-3364-4466-b538-656661373730/open_icon.svg"],K=()=>{const b=M(),y=T(t=>t.user.user),A=localStorage.getItem("user"),x=JSON.parse(A??"{}"),u=y?.email||x?.email,n=x?.userId,g=x?.stripe_customer_id,[I,E]=s.useState(!1),[O,j]=s.useState(!1),[l,p]=s.useState(!1),[N,w]=s.useState(null),[f,k]=s.useState({email:null,plan:null,status:null}),{data:c,isLoading:m,isError:v}=_(u??"",{skip:!l||!u}),{data:i}=P(n??"",{skip:!n,refetchOnMountOrArgChange:!0});if(s.useEffect(()=>{n&&h.get(`https://app.boostlab.ph/api/v1/agent/strategy/${n}`,{withCredentials:!0}).then(t=>w(t.data.strategy||null)).catch(()=>w(null))},[n]),s.useEffect(()=>{(async()=>{if(i?.stripeSessionId)try{const a=await h.get(`https://app.boostlab.ph/api/v1/plans/session-info/${i.stripeSessionId}`);k({email:a.data.customer_email,plan:a.data.plan_name,status:a.data.status})}catch(a){console.error("Error fetching billing info:",a)}})()},[i?.stripeSessionId]),s.useEffect(()=>E(!0),[]),s.useEffect(()=>{l&&!m&&(!c||v)?(r.error("Please give test and then see your results."),p(!1)):l&&c&&!m&&r.success("Test results loaded successfully!")},[l,m,c,v]),!I)return null;const C=async()=>{if(!g){r.error("Customer ID not found.");return}try{const{data:t}=await h.post("https://app.boostlab.ph/api/v1/plans/customer-portal",{customerId:g});window.open(t.url,"_blank")}catch{r.error("Failed to open Stripe Customer Portal")}},B=()=>{if(!N){r.error("Please complete Stage 2 first to unlock Stage 3.");return}b("/content")};return e.jsxs("div",{className:"min-h-screen w-full text-white relative overflow-auto before:absolute before:inset-0 before:bg-[#2A4C57]/40 before:z-0",style:{backgroundImage:"url(https://static.tildacdn.net/tild6534-6232-4333-a431-313138303165/bg_1_1.jpg)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed",fontFamily:"'Unbounded', Arial, sans-serif"},children:[e.jsx(V,{position:"top-right"}),e.jsx(U,{onMenuClick:()=>j(!0)}),e.jsx("div",{className:"absolute top-8 pt-14 left-1/2 -translate-x-1/2 sm:left-6 sm:translate-x-0 z-60 pl-0 sm:pl-8",children:e.jsx("p",{className:"text-[14px] sm:text-lg font-light tracking-wide font-ptSans text-center sm:text-left",children:"WELCOME TO YOUR BOOSTLAB"})}),e.jsxs("div",{className:"relative flex flex-col items-center text-center px-4 pb-10 pt-26 sm:pt-22",children:[e.jsx("h1",{className:"text-[2.5rem] sm:text-[4rem] md:text-[6rem] lg:text-[7rem] mb-10 leading-none tracking-tight font-normal pt-10",children:"PERSONAL ACCOUNT"}),e.jsxs("div",{className:"relative rounded-xl overflow-hidden w-[90%] max-w-[450px]",children:[e.jsx("img",{src:Q,alt:"BOOSTIE",className:"w-full object-cover rounded-t-xl"}),e.jsx("div",{className:"absolute bottom-0 sm:bottom-2 left-0 w-full px-4 py-4 text-start rounded-b-xl",children:e.jsx("p",{className:"text-[10px] sm:text-sm md:text-base leading-snug",children:"Hello, I'm BOOSTIE! I'm here to help you transition from hobby to profession in just 3 months at our lab. Let's go!"})})]})]}),e.jsx("div",{className:"w-full lg:w-[70%] px-6 py-10 max-w-screen-xl mx-auto flex flex-col md:flex-row items-center justify-between gap-6",children:["SERVICES","LIBRARY"].map(t=>e.jsx("div",{className:"w-full flex justify-center md:justify-between",children:e.jsxs("div",{className:"relative w-full",children:[e.jsx("img",{src:G,alt:t,className:"w-full h-auto"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("span",{className:"text-white text-base md:text-lg font-semibold",children:t})})]})},t))}),e.jsxs("div",{className:"fixed bottom-4 right-4 z-50 flex items-end gap-2 cursor-pointer",onClick:()=>b(N?"/content":"/strategy-generation"),children:[e.jsx("div",{className:`relative bg-white text-[#2A4C57] px-3 py-2 rounded-2xl shadow-md text-sm 
            before:content-[''] before:absolute before:-bottom-2 before:right-6 
            before:border-8 before:border-transparent before:border-t-white animate-bounce`,children:"I'm here. Letâ€™s talk."}),e.jsx("img",{src:"https://optim.tildacdn.net/tild6636-3666-4264-b566-653863396561/-/resize/140x/-/format/webp/boostie.png.webp",alt:"Boostie",className:"w-20"})]}),e.jsxs("div",{className:"flex flex-col items-center px-4 py-10",children:[O&&e.jsx(z,{onClose:()=>j(!1)}),$.map(({stage:t,title:a,description:L,isResultStage:F},d)=>{const R=()=>F?e.jsxs("div",{onClick:()=>u?p(!0):r.error("Email not found. Please log in again."),className:"flex items-center gap-4 cursor-pointer md:px-32",children:[e.jsx("img",{src:o[1],alt:"Result Icon",className:"w-10 h-10 md:w-16 md:h-14"}),e.jsx("span",{className:"text-xl md:text-2xl font-medium text-[#87F1FF]",children:"SEE RESULT"})]}):d===0?e.jsxs("div",{className:"flex items-end justify-end gap-4 lg:px-8",children:[e.jsx("img",{src:o[0],alt:"Start Icon",className:"w-10 h-10 md:w-16 md:h-16"}),e.jsx(S,{to:"http://app.boostlab.ph",className:"text-xl md:text-2xl font-medium text-[#98EBA5]",children:"START THE TEST"})]}):d===2?e.jsxs(S,{to:"/strategy-generation",className:"flex items-center gap-4 lg:px-18 cursor-pointer",children:[e.jsx("img",{src:o[2],alt:"Available Icon",className:"w-10 md:w-16 md:h-16"}),e.jsx("span",{className:"text-xl md:text-2xl font-medium text-[#98EBA5]",children:"AVAILABLE"})]}):d===3?e.jsxs("div",{onClick:B,className:"flex items-center gap-4 lg:px-18 cursor-pointer",children:[e.jsx("img",{src:o[2],alt:"Available Icon",className:"w-10 md:w-16 md:h-16"}),e.jsx("span",{className:"text-xl md:text-2xl font-medium text-[#98EBA5]",children:"AVAILABLE"})]}):e.jsxs("div",{className:"flex items-center gap-4 lg:px-18",children:[e.jsx("img",{src:o[2],alt:"Available Icon",className:"w-10 h-10 md:w-16 md:h-16"}),e.jsx("span",{className:"text-xl md:text-2xl font-medium text-[#98EBA5]",children:"AVAILABLE"})]});return e.jsx("div",{className:"w-full max-w-[91rem] bg-[#537F89]/30 backdrop-blur-md border-1 border-[#537F89] sm:border-0 rounded-md mb-6 text-white px-4 sm:px-10 md:px-20 py-10",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[e.jsxs("div",{className:"w-full",children:[e.jsxs("h2",{className:"text-xl md:text-4xl text-[#87F1FF] uppercase",children:[t,a?`: ${a}`:""]}),e.jsx("p",{className:"mt-2 text-sm md:text-base",children:L})]}),e.jsx("div",{className:"flex items-center gap-4 w-full md:w-auto md:justify-end",children:R()})]})},t+d)}),l&&e.jsx(D,{isModalOpen:l,setIsModalOpen:p,testResult:c,isLoading:m})]}),e.jsxs("div",{className:"w-full max-w-[91rem] bg-[#537F89]/30 backdrop-blur-md rounded-md mb-6 text-white px-4 sm:px-10 md:px-20 py-10 text-center mx-auto",children:[e.jsx("h2",{className:"text-2xl md:text-4xl text-[#87F1FF] uppercase mb-4",children:"Subscription & Payments"}),e.jsxs("p",{className:"text-sm md:text-base mb-2",children:["Plan: ",f.plan??"Free"]}),e.jsxs("p",{className:"text-sm md:text-base mb-2",children:["Billing Email: ",f.email??"N/A"]}),e.jsxs("p",{className:"text-sm md:text-base mb-2",children:["Status: ",f.status??"Inactive"]}),e.jsxs("p",{className:"text-sm md:text-base mb-2",children:["Valid Until:"," ",i?.expiresAt?new Date(i.expiresAt).toLocaleDateString("en-US",{day:"numeric",month:"long",year:"numeric"}):"N/A"]}),e.jsx("button",{onClick:C,className:"mt-4 px-6 py-2 bg-[#98EBA5] text-[#2A4C57] font-medium rounded hover:bg-[#87f1ff] transition",children:"Manage Subscription"})]}),e.jsx(H,{})]})};export{K as default};
