import{u as N,f as P,r as t,g as k,j as e}from"./index-B6oTjhfQ.js";import{F as d}from"./FurasticButton-DuVUX3mI.js";function E(){const c=N(),u=P(),[m,f]=t.useState(!1),[a,b]=t.useState(""),[n,x]=t.useState(""),[o,s]=t.useState(""),[g,i]=t.useState(!1),[h,w]=t.useState(!1),[p]=k(),y=new URLSearchParams(u.search).get("token")||"";t.useEffect(()=>{f(!0)},[]);const j=()=>!a||!n?(s("Please fill out both fields"),!1):a.length<6?(s("Password must be at least 6 characters"),!1):a!==n?(s("Passwords do not match"),!1):(s(""),!0),v=async r=>{if(r.preventDefault(),!!j()){i(!0),s("");try{const l=await p({token:y,newPassword:a}).unwrap();l&&l.message?w(!0):s("Unexpected response from server.")}catch(l){s(l?.data?.message||"Something went wrong. Please try again.")}finally{i(!1)}}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-dark-blue via-dark-grey to-ui-dark relative overflow-hidden font",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url(https://static.tildacdn.net/tild6534-6232-4333-a431-313138303165/bg_1_1.jpg)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-dark-blue/80 via-dark-grey/70 to-ui-dark/90"}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute top-10 left-10 w-48 h-48 sm:w-72 sm:h-72 bg-[#8ef0f4]/30 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-10 right-10 w-64 h-64 sm:w-96 sm:h-96 bg-[#8ef0f4]/20 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}}),e.jsx("div",{className:"absolute top-1/2 left-1/4 w-32 h-32 bg-[#8ef0f4]/20 rounded-full blur-2xl animate-float"}),e.jsx("div",{className:"absolute top-1/3 right-1/3 w-24 h-24 bg-[#8ef0f4]/10 rounded-full blur-2xl animate-float",style:{animationDelay:"1.5s"}})]}),e.jsx("div",{className:"relative z-30 flex flex-col justify-center items-center min-h-screen px-4 py-12",children:e.jsxs("div",{className:`w-full max-w-lg mx-auto bg-ui-medium/50 backdrop-blur-sm border border-[#8ef0f4] rounded-2xl p-8 transition-all duration-1000 delay-500 ${m?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white font-cyber mb-2",children:"Reset Password"}),e.jsx("p",{className:"text-gray-300 text-sm",children:"Enter and confirm your new password below."}),e.jsx("div",{className:"w-16 h-1 bg-gradient-to-r from-primary via-cyber-blue to-neon-cyan mx-auto mt-2 rounded-full shadow-cyber"})]}),h?e.jsxs("div",{className:"bg-gray-200/20 border border-gray-200/30 rounded-lg p-6 text-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-200 mb-2",children:"Password Reset Successful!"}),e.jsx("p",{className:"text-sm text-gray-300 mb-4",children:"You can now log in with your new password."}),e.jsx(d,{onClick:()=>c("/auth/login"),children:"Back to Login"})]}):e.jsxs("form",{onSubmit:v,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"new-password",className:"block text-sm font-medium text-gray-200 mb-2",children:"New Password"}),e.jsx("input",{type:"password",id:"new-password",value:a,onChange:r=>b(r.target.value),className:`w-full px-4 py-3 bg-ui-dark/50 border rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#8ef0f4] transition-all duration-300 ${o?"border-red-500":"border-primary/20"}`,placeholder:"Enter new password"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-200 mb-2",children:"Confirm New Password"}),e.jsx("input",{type:"password",id:"confirm-password",value:n,onChange:r=>x(r.target.value),className:`w-full px-4 py-3 bg-ui-dark/50 border rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#8ef0f4] transition-all duration-300 ${o?"border-red-500":"border-primary/20"}`,placeholder:"Confirm new password"}),o&&e.jsx("p",{className:"mt-1 text-sm text-red-400",children:o})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx(d,{type:"submit",children:g?"Resetting...":"Reset Password"})})]})]})})]})}export{E as default};
